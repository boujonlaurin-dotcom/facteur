# BMad Method - Projet Facteur

Tu es un assistant de d√©veloppement suivant le **BMad Method** pour le projet Facteur.

## üìö Documents de planification BMAD (OBLIGATOIRE √Ä LIRE)

Ces documents ont √©t√© cr√©√©s selon le workflow BMAD et contiennent toutes les sp√©cifications :

### Phase 1 : Discovery & Analysis
- **Brainstorming** : `docs/brainstorming-session-results.md`
  - R√©sultats de la session de brainstorming initiale

### Phase 2 : Project Definition  
- **Project Brief** : `docs/project-brief.md`
  - Vision, objectifs business, scope MVP, personas cibles

### Phase 3 : Product Requirements
- **PRD (Product Requirements Document)** : `docs/prd.md`
  - Functional Requirements (FR1-FR17)
  - Non-Functional Requirements (NFR1-NFR10)
  - 6 Epics avec User Stories d√©taill√©es
  - Contraintes et risques

### Phase 4 : Design & Architecture
- **Front-end Spec** : `docs/front-end-spec.md`
  - UI/UX specification compl√®te
  - Design system (couleurs, typo, composants)
  - User flows et wireframes
  - Accessibilit√© WCAG 2.1

- **Architecture** : `docs/architecture.md`
  - Stack technique d√©taill√©
  - Mod√®les de donn√©es (Section 4)
  - API REST endpoints (Section 8)
  - Algorithme de recommandation (Section 9)
  - Sch√©ma PostgreSQL (Section 10)
  - Source tree du projet (Section 11)

### Phase 5 : Implementation
- **Stories** : `docs/stories/`
  - Stories impl√©ment√©es au format BMAD

## üìä √âtat du projet (mis √† jour le 07/01/2026)

### Epic 1 : Fondations & Infrastructure ‚úÖ DONE
- 1.1 Setup Flutter ‚úÖ
- 1.2 Setup FastAPI ‚úÖ  
- 1.3 Auth Supabase ‚úÖ
- 1.4 Navigation Home ‚úÖ

### Epic 2 : Onboarding & Profil (En cours)
- 2.1 Mod√®le de donn√©es Profil ‚úÖ DONE
- 2.2 Onboarding Section 1 "Overview" ‚è≥ √Ä FAIRE
- 2.2b Onboarding Section 2 "App Preferences" ‚è≥
- 2.2c Onboarding Section 3 "Source Preferences" ‚è≥
- 2.2d Animation de conclusion ‚è≥
- 2.3 Sauvegarde profil apr√®s onboarding ‚è≥
- 2.4 Redirection vers Feed ‚è≥
- 2.5 Bypass onboarding utilisateurs existants ‚è≥

### Epics suivants
- Epic 3 : Gestion des Sources
- Epic 4 : Feed & Algorithme
- Epic 5 : Consommation & Gamification
- Epic 6 : Premium & Paiement

## üîÑ Workflow de d√©veloppement BMAD

### Avant d'impl√©menter une feature
1. **Lire le PRD** (`docs/prd.md`) pour comprendre les requirements
2. **Lire l'Architecture** (`docs/architecture.md`) pour les specs techniques
3. **Lire le Front-end Spec** (`docs/front-end-spec.md`) pour l'UI/UX
4. **Cr√©er la story** dans `docs/stories/` selon le template BMAD
5. Marquer la story comme "InProgress"

### Apr√®s avoir impl√©ment√©
1. Mettre √† jour le status de la story √† "Done"
2. Compl√©ter la section "Dev Agent Record"
3. Lister tous les fichiers cr√©√©s/modifi√©s

## üìù Template de Story BMAD

Fichier : `docs/stories/{epic}.{story}.{nom-court}.md`

```markdown
# Story {epic}.{story}: {title}

## Status: {Draft|Approved|InProgress|Review|Done}

## Story

**As a** {role},
**I want** {action},
**so that** {benefit}

## Acceptance Criteria

1. {Crit√®re 1}
2. {Crit√®re 2}

## Tasks / Subtasks

- [ ] Task 1 (AC: # si applicable)
  - [ ] Subtask 1.1

## Dev Notes

### Source Tree
{Fichiers/dossiers pertinents}

### Notes techniques
{Infos de l'architecture}

## Change Log

| Date | Version | Description | Author |

## Dev Agent Record

### Agent Model Used
### Completion Notes
### File List
```

## üõ†Ô∏è Ressources BMAD

Le framework BMAD est dans `.bmad-core/` :
- **Config** : `.bmad-core/core-config.yaml`
- **Agents** : `.bmad-core/agents/` (bmad-master.md, dev.md, sm.md, etc.)
- **Templates** : `.bmad-core/templates/` (story-tmpl.yaml, prd-tmpl.yaml, etc.)
- **T√¢ches** : `.bmad-core/tasks/` (create-next-story.md, etc.)
- **Checklists** : `.bmad-core/checklists/`

## üíª Tech Stack

### Mobile (apps/mobile/)
- Flutter 3.24+ / Dart
- State : Riverpod
- Navigation : go_router
- UI : Dark mode, Terracotta (#E07A5F), Phosphor Icons
- Fonts : Fraunces (titres), DM Sans (corps)

### Backend (packages/api/)
- FastAPI / Python 3.12 (‚ö†Ô∏è pas 3.13+)
- ORM : SQLAlchemy async
- Validation : Pydantic v2
- Workers : APScheduler
- RSS : feedparser

### Services
- Database : Supabase PostgreSQL
- Auth : Supabase Auth
- Payments : RevenueCat

## üé® Design System

### Couleurs (Dark Mode)
- Background : #121212 / #1A1A1A
- Surface : #1E1E1E / #252525
- Primary (Terracotta) : #E07A5F
- Secondary (Bleu) : #6B9AC4
- Text : #F5F5F5

### Typographie
- Titres : Fraunces (600)
- Corps : DM Sans (400)

### Ic√¥nes

## üõ†Ô∏è Outils de D√©veloppement recommand√©s (MCP)

Pour faciliter le d√©veloppement et l'interaction avec la base de donn√©es Supabase, il est fortement recommand√© d'utiliser le serveur MCP Supabase.

### Configuration Opencode / Cursor
Ajoutez cette configuration √† votre fichier `~/.config/opencode/opencode.json` (ou l'√©quivalent pour Cursor) :

```json
{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "supabase": {
      "type": "remote",
      "url": "https://mcp.supabase.com/mcp?project_ref=ykuadtelnzavrqzbfdve",
      "enabled": true
    }
  }
}
```

Puis authentifiez-vous :
`opencode mcp auth supabase`
