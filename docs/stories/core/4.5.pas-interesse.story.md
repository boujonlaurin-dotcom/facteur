# Story 4.5: Action "Pas intéressé"

## Status: Draft

## Story
**As a** utilisateur,
**I want** indiquer qu'un contenu ne m'intéresse pas,
**so that** l'algorithme apprenne mes préférences et masque ce contenu.

## Acceptance Criteria
- [ ] **Interaction**: Via menu "..." sur la card -> "Pas intéressé" ouvre un choix (BottomSheet/Dialog).
- [ ] **Options**:
    1. "Moins de cette source"
    2. "Ce sujet ne m'intéresse pas"
- [ ] **Feedback**: Le contenu est masqué immédiatement.
- [ ] **Persistence**: Le statut `is_hidden` est enregistré AVEC la raison (`SOURCE` ou `TOPIC`).
- [ ] **Algo**: Les contenus marqués sont exclus. (L'exploitation de la raison pour l'algo de recommandation sera traitée dans une story ultérieure/épique Algo, mais la donnée doit être stockée dès maintenant).

## Tasks / Subtasks

- [x] **Task 1: Backend - Data Model Update**
    - [x] Update `UserContentStatus` model:
        - Add `hidden_reason` (Enum/String: `SOURCE`, `TOPIC`, null).
    - [x] Generate Alembic migration.

- [x] **Task 2: Backend - API Implementation**
    - [x] Update `POST /api/contents/{id}/hide` to accept a body `{"reason": "SOURCE" | "TOPIC"}`.
    - [x] Logic: Set `is_hidden = True` and save `hidden_reason`.

- [x] **Task 3: Frontend - Repository & State**
    - [x] Update `FeedRepository.hideContent` to accept `reason`.
    - [x] Update `FeedNotifier` to pass usage.

- [x] **Task 4: Frontend - UI Integration**
    - [x] Update `FeedCard` Menu "..." action.
    - [x] Implement a `ModalBottomSheet` showing the options when "Pas intéressé" is tapped.
    - [x] Call `hideContent(reason)` based on selection.
    - [x] Optimistic removal from feed.

- [ ] **Task 5: Testing**
    - [ ] Check DB: `is_hidden=true` AND `hidden_reason` is correctly set.

## Dev Notes
- `is_hidden` field already exists in `UserContentStatus` (from Story 4.4).
- Ensure that "Undo" is NOT strictly required by the story, but "Toast feedback" is. If user hides by mistake, a "Undo" on the toast would be nice-to-have but sticking to AC: "Toast feedback".
