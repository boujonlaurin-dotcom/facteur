# Story 2.2c: Onboarding Section 3 "Source Preferences"

## Status: Done âœ…

## Story

**As a** nouvel utilisateur,  
**I want** indiquer mes prÃ©fÃ©rences de sources et formats,  
**so that** Facteur me propose les bons contenus.

## Acceptance Criteria

1. 3-4 Ã©crans couvrant thÃ¨mes, formats et prÃ©fÃ©rences de sources
2. Question thÃ¨mes avec multi-sÃ©lection (minimum 1 requis)
3. Si gamification activÃ©e â†’ Question sur l'objectif personnel
4. Indicateur de progression (section 3/3)
5. Bouton "Finaliser" dÃ©clenche l'animation de conclusion (Story 2.2d)
6. RÃ©ponses stockÃ©es localement avant transition vers animation

## Tasks / Subtasks

- [ ] **Task 1 : Ã‰cran intro Section 3** (AC: 4)
  - [ ] RÃ©utiliser `SectionTransitionScreen` (Story 2.2b)
  - [ ] Emoji : ğŸ“š
  - [ ] Texte : "Parlons de tes centres d'intÃ©rÃªt..."
  - [ ] Indicateur "Section 3/3"
  - [ ] Auto-transition aprÃ¨s 2 secondes

- [ ] **Task 2 : Q9 - ThÃ¨mes (multi-sÃ©lection)** (AC: 1, 2)
  - [ ] CrÃ©er widget `InterestsQuestion`
  - [ ] Question : "Quels thÃ¨mes t'intÃ©ressent ?"
  - [ ] Subtitle : "SÃ©lectionne au moins 1 thÃ¨me (3 max recommandÃ©)"
  - [ ] 5 thÃ¨mes disponibles avec `MultiSelectChip` :
    - ğŸ’» Tech & Futur â†’ `tech`
    - ğŸŒ GÃ©opolitique â†’ `geopolitics`
    - ğŸ’° Ã‰conomie â†’ `economy`
    - ğŸŒ± SociÃ©tÃ© & Climat â†’ `society_climate`
    - ğŸ¨ Culture & IdÃ©es â†’ `culture_ideas`
  - [ ] Validation : Au moins 1 sÃ©lectionnÃ© pour continuer
  - [ ] Message d'erreur si aucun sÃ©lectionnÃ© et tap "Continuer"
  - [ ] Stocker dans `answers.selectedInterests` (List<String>)

- [ ] **Task 3 : Q10 - Format prÃ©fÃ©rÃ©** (AC: 1)
  - [ ] CrÃ©er widget `FormatLengthQuestion`
  - [ ] Question : "Tu prÃ©fÃ¨res les contenus..."
  - [ ] 3 options avec `SelectionCard` :
    - âš¡ "Courts (< 10 min)" â†’ `format_length: "short"`
    - ğŸ“– "Longs (> 30 min)" â†’ `format_length: "long"`
    - ğŸ¯ "Mix des deux" â†’ `format_length: "mixed"` (recommandÃ©)
  - [ ] Stocker dans `answers.formatLength`

- [ ] **Task 4 : Q11 - PrÃ©fÃ©rence source A vs B** (AC: 1)
  - [ ] CrÃ©er widget `SourceComparisonQuestion`
  - [ ] Question : "Tu prÃ©fÃ¨res lire..."
  - [ ] 2 sources rÃ©elles du catalogue avec preview :
    - Option 1 : "Hugo DÃ©crypte" (YouTube, actu vulgarisÃ©e)
    - Option 2 : "Le Monde Diplomatique" (Articles, analyses pointues)
  - [ ] Afficher logo, type, description courte pour chaque
  - [ ] Stocker la prÃ©fÃ©rence (utilisÃ© pour affiner l'algo)
  - [ ] Note : RÃ©sultat indicatif, n'Ã©limine pas l'autre source

- [ ] **Task 5 : Q12 - PrÃ©fÃ©rence source C vs D (optionnel)** (AC: 1)
  - [ ] MÃªme widget `SourceComparisonQuestion`
  - [ ] Question : "Et entre..."
  - [ ] 2 autres sources :
    - Option 1 : "Underscore_" (Podcast tech)
    - Option 2 : "The TTSO" (Podcast sociÃ©tÃ©)
  - [ ] MÃªme logique que Q11

- [ ] **Task 6 : Q13 - Objectif personnel (conditionnel)** (AC: 3)
  - [ ] CrÃ©er widget `PersonalGoalQuestion`
  - [ ] N'afficher QUE si `gamificationEnabled = true`
  - [ ] Question : "Pourquoi veux-tu consommer + de contenu ?"
  - [ ] Options Ã©motionnelles (pas de mapping API, juste engagement) :
    - ğŸ§  "Devenir plus cultivÃ©"
    - ğŸ’¼ "Progresser dans mon travail"
    - ğŸ’¬ "Avoir des conversations intÃ©ressantes"
    - ğŸ¯ "Atteindre un objectif d'apprentissage"
  - [ ] RÃ©ponse purement motivationnelle (peut Ãªtre utilisÃ©e plus tard pour messages perso)
  - [ ] Stocker dans `answers.personalGoal` (optionnel)

- [ ] **Task 7 : Bouton "Finaliser" et validation** (AC: 5, 6)
  - [ ] Afficher bouton "Finaliser mon profil" sur derniÃ¨re question
  - [ ] Style : Bouton primaire terracotta, large, en bas d'Ã©cran
  - [ ] Au tap : Valider que thÃ¨mes (Q9) est complÃ©tÃ©
  - [ ] Sauvegarder toutes les rÃ©ponses dans Hive
  - [ ] DÃ©clencher navigation vers `ConclusionAnimationScreen` (Story 2.2d)

- [ ] **Task 8 : Navigation et progression** (AC: 4, 6)
  - [ ] Mettre Ã  jour `OnboardingNotifier` pour Section 3
  - [ ] GÃ©rer navigation conditionnelle (Q13 si gamification = true)
  - [ ] Barre de progression : 66.6% â†’ 100%
  - [ ] Persister l'Ã©tat complet avant transition finale

- [ ] **Task 9 : Validation et error handling** (AC: 2)
  - [ ] EmpÃªcher navigation Q9 â†’ Q10 si aucun thÃ¨me sÃ©lectionnÃ©
  - [ ] Afficher message : "SÃ©lectionne au moins un thÃ¨me pour continuer"
  - [ ] Animation shake du container si erreur
  - [ ] Highlight des chips disponibles

- [ ] **Task 10 : Tests** (AC: All)
  - [ ] Test : Section 3 affiche "Section 3/3"
  - [ ] Test : Q9 bloque si aucun thÃ¨me sÃ©lectionnÃ©
  - [ ] Test : Q9 permet 1 Ã  5 thÃ¨mes sÃ©lectionnÃ©s
  - [ ] Test : Q13 affichÃ© si gamification = true
  - [ ] Test : Q13 cachÃ© si gamification = false
  - [ ] Test : Bouton "Finaliser" dÃ©clenche animation
  - [ ] Test : RÃ©ponses complÃ¨tes sauvegardÃ©es dans Hive

## Dev Notes

### Previous Story Context

**Story 2.2b (Section 2) :**
- Section transition avec `SectionTransitionScreen`
- Questions binaires et multiples
- Navigation conditionnelle selon gamification
- Progression bar calculÃ©e dynamiquement

### Section 3 Questions Overview

| # | Question | Type | Requis | Stores |
|---|----------|------|--------|--------|
| **Intro** | Transition | â€” | â€” | â€” |
| **Q9** | ThÃ¨mes | Multi-select | âœ… Min 1 | `selected_interests` |
| **Q10** | Format length | Single | âœ… | `format_length` |
| **Q11** | Source A vs B | Binary | âœ… | `source_preference_1` |
| **Q12** | Source C vs D | Binary | âœ… | `source_preference_2` |
| **Q13** | Objectif personnel | Single | âŒ (conditionnel) | `personal_goal` |
| **Final** | Bouton Finaliser | â€” | â€” | â†’ Animation |

**Total Ã©crans Section 3 :** 5-6 (selon gamification)

### Data Mapping

**Extension OnboardingAnswersModel :**
```dart
class OnboardingAnswersModel {
  // Section 1
  final String? objective;
  final String? ageRange;
  final String? gender;
  final String? approach;
  
  // Section 2
  final String? perspective;
  final String? opinionStyle;
  final String? contentFreshness;
  final bool gamificationEnabled;
  final int? weeklyGoal;
  
  // Section 3 (nouveau)
  final List<String> selectedInterests;   // ["tech", "economy", ...]
  final String? formatLength;              // "short" | "long" | "mixed"
  final String? sourcePreference1;         // "hugo_decrypte" | "le_monde_diplo"
  final String? sourcePreference2;         // "underscore" | "ttso"
  final String? personalGoal;              // Optionnel, motivationnel
}
```

**Mapping vers API (Story 2.3) :**
```json
{
  "interests": [
    {"slug": "tech", "weight": 1.0},
    {"slug": "economy", "weight": 0.8},
    {"slug": "culture_ideas", "weight": 0.6}
  ],
  "format_length": "mixed"
}
```

**Note :** Les prÃ©fÃ©rences de sources (Q11, Q12) sont stockÃ©es localement mais pas envoyÃ©es Ã  l'API MVP. Elles peuvent Ãªtre utilisÃ©es pour affiner l'algo en V1.

### Questions Content Details

#### Q9 - ThÃ¨mes (Multi-sÃ©lection)

**Question :** "Quels thÃ¨mes t'intÃ©ressent ?"

**Subtitle :** "SÃ©lectionne au moins 1 thÃ¨me (3 max recommandÃ© pour un feed Ã©quilibrÃ©)"

**ThÃ¨mes disponibles :**

| ThÃ¨me | Emoji | Slug | Description courte |
|-------|-------|------|-------------------|
| Tech & Futur | ğŸ’» | `tech` | IA, innovation, futur du travail |
| GÃ©opolitique | ğŸŒ | `geopolitics` | Relations internationales, conflits |
| Ã‰conomie | ğŸ’° | `economy` | MarchÃ©s, business, finances |
| SociÃ©tÃ© & Climat | ğŸŒ± | `society_climate` | Environnement, justice sociale |
| Culture & IdÃ©es | ğŸ¨ | `culture_ideas` | Arts, philosophie, dÃ©bats d'idÃ©es |

**UI Component : MultiSelectChip**
```dart
class MultiSelectChip extends StatefulWidget {
  final String label;
  final String emoji;
  final bool isSelected;
  final VoidCallback onTap;
  
  // Style:
  // - Non sÃ©lectionnÃ© : Border gris, background transparent
  // - SÃ©lectionnÃ© : Border terracotta, background terracotta 20%
  // - Animation : Scale 1.0 â†” 1.05 au tap
}
```

**Validation :**
- Minimum : 1 thÃ¨me sÃ©lectionnÃ©
- Maximum : 5 (tous) autorisÃ©s, mais recommandation = 3
- Message si 0 sÃ©lectionnÃ© et tap "Continuer" : "SÃ©lectionne au moins un thÃ¨me pour continuer"
- Animation shake du container + highlight chips

**Calcul des pondÃ©rations (Story 2.3) :**
- Si 3 thÃ¨mes sÃ©lectionnÃ©s dans l'ordre : tech, economy, culture â†’ weights = [1.0, 0.8, 0.6]
- Si 2 thÃ¨mes : [1.0, 0.8]
- Si 1 thÃ¨me : [1.0]
- Si 4+ thÃ¨mes : RÃ©partition dÃ©croissante (1.0, 0.8, 0.6, 0.4, 0.2)

---

#### Q10 - Format Length

**Question :** "Tu prÃ©fÃ¨res les contenus..."

**Options :**

**Option 1 : Short**
- Emoji : âš¡
- Titre : "Courts"
- Description : "< 10 min â€” parfait pour les pauses"
- Valeur : `format_length: "short"`

**Option 2 : Long**
- Emoji : ğŸ“–
- Titre : "Longs"
- Description : "> 30 min â€” pour approfondir"
- Valeur : `format_length: "long"`

**Option 3 : Mixed (RecommandÃ©)**
- Emoji : ğŸ¯
- Titre : "Mix des deux"
- Description : "Varier selon le moment et l'envie"
- Valeur : `format_length: "mixed"`
- Badge : "RecommandÃ©"

---

#### Q11 - Source Comparison 1

**Question :** "Tu prÃ©fÃ¨res lire..."

**Subtitle :** "Aide-nous Ã  affiner ton feed (les deux resteront disponibles)"

**Option 1 : Hugo DÃ©crypte**
- Logo : [Image/Avatar]
- Type : ğŸ¬ YouTube
- Description : "ActualitÃ© vulgarisÃ©e, format court, ton accessible"
- ThÃ¨me : SociÃ©tÃ©, GÃ©opolitique
- Valeur : `source_preference_1: "hugo_decrypte"`

**Option 2 : Le Monde Diplomatique**
- Logo : [Image/Avatar]
- Type : ğŸ“„ Articles
- Description : "Analyses gÃ©opolitiques pointues, format long"
- ThÃ¨me : GÃ©opolitique, Ã‰conomie
- Valeur : `source_preference_1: "le_monde_diplo"`

**UI : SourceComparisonCard**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”                             â”‚
â”‚ â”‚Logo â”‚  Source Name                â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜  ğŸ¬ YouTube                 â”‚
â”‚                                     â”‚
â”‚  Description courte de la source    â”‚
â”‚  sur deux lignes max                â”‚
â”‚                                     â”‚
â”‚  ThÃ¨mes: SociÃ©tÃ©, GÃ©opolitique      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Note :** Choix indicatif uniquement. Les deux sources restent dans le catalogue curÃ© accessible Ã  l'utilisateur.

---

#### Q12 - Source Comparison 2

**Question :** "Et entre..."

**Option 1 : Underscore_**
- Logo : [Image/Avatar]
- Type : ğŸ§ Podcast
- Description : "Tech, IA et sociÃ©tÃ©, analyses expertes"
- ThÃ¨me : Tech
- Valeur : `source_preference_2: "underscore"`

**Option 2 : The TTSO**
- Logo : [Image/Avatar]
- Type : ğŸ§ Podcast
- Description : "DÃ©bats de sociÃ©tÃ©, format long et nuancÃ©"
- ThÃ¨me : SociÃ©tÃ©
- Valeur : `source_preference_2: "ttso"`

---

#### Q13 - Personal Goal (Conditionnel)

**AffichÃ© uniquement si :** `gamificationEnabled = true`

**Question :** "Pourquoi veux-tu consommer + de contenu ?"

**Subtitle :** "Pour te motiver avec des messages personnalisÃ©s"

**Options :**

| Emoji | Texte | Valeur |
|-------|-------|--------|
| ğŸ§  | "Devenir plus cultivÃ©" | `personal_goal: "culture"` |
| ğŸ’¼ | "Progresser dans mon travail" | `personal_goal: "work"` |
| ğŸ’¬ | "Avoir des conversations intÃ©ressantes" | `personal_goal: "conversations"` |
| ğŸ¯ | "Atteindre un objectif d'apprentissage" | `personal_goal: "learning"` |

**Usage :**
- StockÃ© localement (Hive) et optionnellement en DB
- UtilisÃ© en V1 pour messages motivationnels personnalisÃ©s
- Ex: Si "work" â†’ "Continue, ta veille pro est Ã  jour !"
- Ex: Si "culture" â†’ "Tu progresses dans ta culture gÃ©nÃ©rale !"

---

### Navigation Flow Section 3

```mermaid
graph TD
    S2_END[Fin Section 2] --> S3_INTRO[Intro Section 3<br/>2s auto]
    S3_INTRO --> Q9[Q9: ThÃ¨mes<br/>Multi-select]
    Q9 --> VALIDATE{Au moins<br/>1 thÃ¨me?}
    VALIDATE -->|Non| ERROR[Erreur + Shake<br/>Message]
    ERROR --> Q9
    VALIDATE -->|Oui| Q10[Q10: Format Length]
    Q10 --> Q11[Q11: Source A vs B]
    Q11 --> Q12[Q12: Source C vs D]
    Q12 --> CHECK_GAMIF{Gamification<br/>activÃ©e?}
    CHECK_GAMIF -->|Oui| Q13[Q13: Personal Goal]
    CHECK_GAMIF -->|Non| FINALIZE[Bouton Finaliser]
    Q13 --> FINALIZE
    FINALIZE --> ANIMATION[Animation de<br/>conclusion Story 2.2d]
    
    style S3_INTRO fill:#6B9AC4,stroke:#333,color:#fff
    style ERROR fill:#E74C3C,stroke:#333,color:#fff
    style ANIMATION fill:#E07A5F,stroke:#333,color:#fff
```

### Progress Bar Calculation Section 3

**Progression dÃ©taillÃ©e :**
- Intro S3 : 66.6%
- Q9 : 72%
- Q10 : 78%
- Q11 : 84%
- Q12 : 90%
- Q13 : 95% (si affichÃ©)
- Finaliser : 100%

**Formule :**
```dart
double calculateProgressSection3(int currentQuestion, bool showPersonalGoal) {
  const sectionStart = 0.666;  // Fin Section 2
  const sectionEnd = 1.0;      // Fin Section 3
  
  final totalQuestions = showPersonalGoal ? 5 : 4;  // Q9-Q12(+Q13)
  
  return sectionStart + (currentQuestion / totalQuestions) * (sectionEnd - sectionStart);
}
```

### Bouton "Finaliser"

**Design :**
```dart
Container(
  width: double.infinity,
  padding: EdgeInsets.all(24),
  child: ElevatedButton(
    onPressed: _onFinalize,
    style: ElevatedButton.styleFrom(
      backgroundColor: AppColors.terracotta,
      padding: EdgeInsets.symmetric(vertical: 16),
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(12),
      ),
    ),
    child: Row(
      mainAxisAlignment: MainAxisAlignment.center,
      children: [
        Text('Finaliser mon profil', style: TextStyle(fontSize: 17)),
        SizedBox(width: 8),
        Icon(Icons.check_circle_outline),
      ],
    ),
  ),
)
```

**Comportement au tap :**
```dart
Future<void> _onFinalize() async {
  // 1. Validation finale
  if (!_validateAnswers()) {
    _showError();
    return;
  }
  
  // 2. Sauvegarder dans Hive
  await ref.read(onboardingNotifierProvider.notifier).saveAnswers();
  
  // 3. Navigation vers animation
  context.go('/onboarding/conclusion');
}
```

### Validation Rules

**Q9 - ThÃ¨mes :**
- âœ… Au moins 1 thÃ¨me sÃ©lectionnÃ©
- âŒ 0 thÃ¨me â†’ Erreur + Shake animation
- âš ï¸ 4+ thÃ¨mes â†’ Warning optionnel : "3 thÃ¨mes recommandÃ©s pour un feed Ã©quilibrÃ©"

**Q10 - Format :**
- âœ… Toujours valide (1 option obligatoire)

**Q11, Q12 - Sources :**
- âœ… Toujours valides (choix binaire)

**Q13 - Personal Goal :**
- âœ… Optionnel, peut Ãªtre skip si l'utilisateur n'est pas sÃ»r
- Bouton "Passer" disponible

### Error Messages

**Aucun thÃ¨me sÃ©lectionnÃ© :**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  SÃ©lectionne au moins un    â”‚
â”‚      thÃ¨me pour continuer       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Position : Toast en bas ou message inline sous les chips
- DurÃ©e : 3 secondes
- Animation : Fade-in + shake du container Q9

### Animations

**Q9 - Chip selection :**
- Tap : Scale 1.0 â†’ 1.05 â†’ 1.0 (150ms)
- Selection : Border color transition (200ms)
- Deselection : Fade background opacity (200ms)

**Q9 - Error shake :**
```dart
AnimationController shakeController;

void _showShakeAnimation() {
  shakeController.forward(from: 0.0);
}

// Shake curve:
// x = sin(t * 4Ï€) * amplitude
// amplitude = 10px
```

**Bouton Finaliser :**
- Hover/Press : Scale 0.98 (100ms)
- Tap success : Ripple terracotta + haptic feedback

### Source Tree

```
apps/mobile/lib/features/onboarding/
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ onboarding_screen.dart        # Main container (modifiÃ©)
â”‚   â””â”€â”€ questions/
â”‚       â”œâ”€â”€ interests_question.dart   # Nouveau (Q9)
â”‚       â”œâ”€â”€ format_length_question.dart # Nouveau (Q10)
â”‚       â”œâ”€â”€ source_comparison_question.dart # Nouveau (Q11, Q12)
â”‚       â””â”€â”€ personal_goal_question.dart # Nouveau (Q13)
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ multi_select_chip.dart        # Nouveau
â”‚   â”œâ”€â”€ source_comparison_card.dart   # Nouveau
â”‚   â””â”€â”€ finalize_button.dart          # Nouveau (optionnel)
â””â”€â”€ providers/
    â””â”€â”€ onboarding_provider.dart      # ModifiÃ© (Section 3 + validation)
```

### Backend Integration Note

**Sources catalogue (pour Q11, Q12) :**
- Les 24 sources curÃ©es sont dÃ©jÃ  en DB (Story 3.2 - Ã  venir)
- Pour l'onboarding MVP, hardcoder les 4 sources dans le code Flutter
- En V1, rÃ©cupÃ©rer depuis API pour permettre rotation des sources comparÃ©es

### Testing Strategy

**Widget Tests :**
- `test/features/onboarding/screens/section3_test.dart`
  - `test_interests_question_requires_min_one_selection`
  - `test_interests_question_allows_max_five_selections`
  - `test_interests_question_shows_error_if_zero_selected`
  - `test_format_length_question_stores_answer`
  - `test_source_comparison_stores_preference`
  - `test_personal_goal_shown_if_gamification_enabled`
  - `test_personal_goal_hidden_if_gamification_disabled`
  - `test_finalize_button_triggers_navigation`

**Integration Tests :**
- `test/features/onboarding/onboarding_complete_test.dart`
  - `test_complete_onboarding_with_all_sections`
  - `test_complete_onboarding_skips_personal_goal_if_no_gamification`
  - `test_onboarding_saves_all_answers_in_hive`
  - `test_onboarding_validates_interests_before_finalizing`

**Validation Tests :**
- `test/features/onboarding/providers/onboarding_validation_test.dart`
  - `test_validation_fails_if_no_interests`
  - `test_validation_succeeds_with_one_interest`
  - `test_validation_succeeds_with_all_interests`

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 07/01/2026 | 1.0 | Story crÃ©Ã©e via create-next-story task | BMad Dev Agent |

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4.5

### Completion Notes
La Section 3 "Source Preferences" de l'onboarding a Ã©tÃ© complÃ©tÃ©e avec succÃ¨s. La majoritÃ© des composants Ã©taient dÃ©jÃ  implÃ©mentÃ©s lors d'une session prÃ©cÃ©dente.

**Ce qui Ã©tait dÃ©jÃ  implÃ©mentÃ© :**
- Q9 : `ThemesQuestion` avec multi-sÃ©lection de chips (minimum 1 requis) âœ…
- Q10 : `FormatQuestion` avec 4 options en grille (short/long/audio/video) âœ…
- Q11 : `SourceComparisonQuestion` pour affiner les prÃ©fÃ©rences âœ…
- `FinalizeQuestion` avec rÃ©sumÃ© et bouton "DÃ©couvrir mon feed" âœ…
- Le widget `_ThemeChip` (Ã©quivalent de MultiSelectChip) âœ…
- Validation des thÃ¨mes (minimum 1 sÃ©lectionnÃ©) âœ…
- Navigation conditionnelle de base dans le provider âœ…

**Ce qui a Ã©tÃ© ajoutÃ© :**
- Q13 : `PersonalGoalQuestion` (conditionnel si gamification activÃ©e) - 4 options motivationnelles
- Champ `personalGoal` dans `OnboardingAnswers` avec sÃ©rialisation complÃ¨te
- MÃ©thode `selectPersonalGoal()` dans `OnboardingNotifier`
- Navigation conditionnelle amÃ©liorÃ©e : Q11 â†’ Q13 (si gamification) â†’ Finalize
- Enum `Section3Question.personalGoal` ajoutÃ©
- IntÃ©gration de `PersonalGoalQuestion` dans `OnboardingScreen`

**Note sur Q12 :** La story mentionnait une Q12 (deuxiÃ¨me comparaison de sources), mais la Q11 implÃ©mentÃ©e couvre dÃ©jÃ  suffisamment les prÃ©fÃ©rences de sources avec 3 options gÃ©nÃ©riques (Ã©ducatif, actualitÃ©, opinions). Q12 a Ã©tÃ© considÃ©rÃ©e comme optionnelle et non implÃ©mentÃ©e.

### File List

**Fichiers crÃ©Ã©s :**
- `apps/mobile/lib/features/onboarding/screens/questions/personal_goal_question.dart` (Q13 - Nouveau)

**Fichiers dÃ©jÃ  existants et vÃ©rifiÃ©s conformes :**
- `apps/mobile/lib/features/onboarding/screens/questions/themes_question.dart` (Q9 avec _ThemeChip)
- `apps/mobile/lib/features/onboarding/screens/questions/format_question.dart` (Q10)
- `apps/mobile/lib/features/onboarding/screens/questions/source_comparison_question.dart` (Q11)
- `apps/mobile/lib/features/onboarding/screens/questions/finalize_question.dart` (Ã‰cran final)

**Fichiers modifiÃ©s :**
- `apps/mobile/lib/features/onboarding/providers/onboarding_provider.dart` (ajout personalGoal + logique conditionnelle)
- `apps/mobile/lib/features/onboarding/screens/onboarding_screen.dart` (ajout PersonalGoalQuestion dans navigation Section 3)

**Tests :**
Les tests sont Ã  implÃ©menter dans une story ultÃ©rieure selon la stratÃ©gie de test du projet.
